#
# $Id$
#

* Instructions for building libslax

"libslax" depends on the Gnu auto* tools to help it remain as platform
independent as possible. The "autoreconf" command does most of the
work to turn our configure.ac and Makefile.am files into the files
needed by the (also generated) "configure" script.

BE AWARE: The svn archive does _not_ contain the files generated by
"autoreconf", with the notable exception of the "m4" directory.  Since
these files (depcomp, configure, missing, install-sh, etc) are
generated files, we keep them out of the svn archive.

This means that if you download a release, these files will be ready
and you'll just need to run "configure", but if you download the
source code from svn, then you'll need to run "autoconf" by hand.

** Instructions on getting source code:

(1) To download the latest release:

    http://code.google.com/p/libslax/downloads/list

(2) To download directly from Google SVN:

    http://code.google.com/p/libslax/source/checkout

** Instructions for building:

(1) If you downloaded a prepared release, untar it:

    tar zxf libslax-XXXX.tar.gz
    cd libslax-XXXX

If you downloaded from svn, then you'll need to run "autoreconf" to
build configure and friends:

    cd libslax
    autoreconf --install

(2) Make a "build" directory:

    mkdir build
    cd build

(3) Run "configure":

    ../configure

Expect to see the following error:

    /usr/bin/rm: cannot remove `libtoolT': No such file or directory

If you want to use the regression tests from libxslt, add the
"--with-libxslt-tests=DIR" to the configure command:

    ../configure --with-libxslt-test=~/work/libxslt-1.1.24

The --enable-debug command turns on SLAX_DEBUG, but debugging
is enabled even without it.  Use the "-d" option to "slaxproc"
to get debug output.

(4) Make the images

    make

(5) Test the images

    make test

(6) Install the images

    sudo make install

** libslax configure Options

The libslax-specific options are:

  --enable-warnings    Turn on compiler warnings
  --enable-debug    Turn on debugging
  --enable-readline    Enable support for GNU readline
  --enable-libedit    Enable support for libedit (BSD readline)
  --enable-printflike    Enable use of GCC __printflike attribute
 
  --with-libxslt-tests=DIR    Include the libxslt tests
  --with-libxml-prefix=PFX           Specify location of libxml config
  --with-libxml-include-prefix=PFX   Specify location of libxml headers
  --with-libxml-libs-prefix=PFX      Specify location of libxml libs
  --with-libxml-src=DIR              For libxml thats not installed yet (sets all three ab
ove)
  --with-libxslt-prefix=PFX           Specify location of libxslt config
  --with-libxslt-include-prefix=PFX   Specify location of libxslt headers
  --with-libxslt-libs-prefix=PFX      Specify location of libxslt libs
  --with-libxslt-src=DIR              For libxslt thats not installed yet (sets all three
above)
  --with-libcurl-prefix=PFX           Specify location of libcurl config
  --with-extensions-dir=DIR           Specify location of extension libraries

If these packages (libxml2, libxslt, curl) are installed normally,
then their options are not needed.

** Special notes for cygwin

You need to following packages installed:

Under "developer":
  make
  gcc
  bison
  libxml2-devel
Under "GNOME":
  libxslt-devel
Under "Web" or "Net":
  libcurl-devel

The "configure" script may give some odd but mostly harmful errors.

** Special notes for ubuntu

You will need the following packages installed:

libxml2-dev
libxslt-dev
libcurl-dev
